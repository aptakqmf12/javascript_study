<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>반응속도 테스트</title>
</head>
<body>

    <style>
        #screen{
            width: 300px;
            height: 200px;
            box-sizing: border-box;
            padding:10px;
        }   
        #screen.waiting{
            background-color: aqua;
        }
        #screen.ready{
            background-color: red;
            color:white;
        }
        #screen.now{
            background-color: greenyellow;
        }
    </style>

    <div id="screen" class="waiting" >
        초록색이되면 클릭하세요
    </div>

    <script>
        var screen = document.querySelector('#screen');
        var start_time;
        screen.addEventListener('click',function(){                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      

            if(screen.classList.contains('waiting')){
                screen.classList.remove('waiting');
                screen.classList.add('ready');
                screen.textContent = '초록색이되면 클릭하세요'
                setTimeout(function(){
                    start_time = new Date();
                    screen.click();
                }, Math.floor(Math.random() * 1000) + 2000);
            }
            else if(screen.classList.contains('ready')){ //준비상태
                screen.classList.remove('ready');
                screen.classList.add('now');
                screen.textContent = '클릭하세요'
            }
            else if(screen.classList.contains('now')){
                var end_time = new Date();
                console.log('반응속도', end_time - start_time, 'ms');
                screen.classList.remove('now');
                screen.classList.add('waiting');
                screen.textContent = '클릭해서 시작하세요'
            }
            
        });
    </script>
    
</body>
</html>